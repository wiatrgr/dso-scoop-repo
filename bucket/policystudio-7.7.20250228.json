{
  "version": "Axway-7.7.20250228",
  "description": "APIGateway Client Tools Installation for Windows",
  "homepage": "https://docs.axway.com/",
  "license": "Proprietary",
  "architecture": {
    "32bit": {
      "url": "https://scoop-packages.itsmtaxud.priv/packages/policystudio/APIGateway_7.7.20250228_Client-Tools-Install_win-x86-32_BN03.exe",
      "hash": "ef748612ebb326822be602a6a1bd1d6419369e2ffcf852c118848a65276260d9"
    }
  },
  "installer": {
    "script": [
      "$installDir = \"C:\\Axway-7.7.20250228\"",
      "$installer = \"$dir\\APIGateway_7.7.20250228_Client-Tools-Install_win-x86-32_BN03.exe\"",
      "Start-Process $installer -ArgumentList \"--mode unattended --unattendedmodeui none --enable-components policystudio,configurationstudio --prefix C:\\Axway-7.7.20250228\" -Wait",
      "$WScriptShell = New-Object -ComObject WScript.Shell",
      "$scoopAppsFolder = \"C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Scoop Apps\"",

      "# PolicyStudio shortcut",
      "if (Test-Path \"$installDir\\policystudio\\policystudio.exe\") {",
      "    $exePath = \"$installDir\\policystudio\\policystudio.exe\"",
      "    $shortcutPath = \"$scoopAppsFolder\\PolicyStudio-7.7.20250228.lnk\"",
      "    $Shortcut = $WScriptShell.CreateShortcut($shortcutPath)",
      "    $Shortcut.TargetPath = $exePath",
      "    $Shortcut.Save()",
      "    Write-Host \"Shortcut for PolicyStudio has been created.\"",
      "} else {",
      "    Write-Host \"Error: PolicyStudio.exe was not found.\"",
      "}",

      "# ConfigurationStudio shortcut",
      "if (Test-Path \"$installDir\\configurationstudio\\configurationstudio.exe\") {",
      "    $exePathConfig = \"$installDir\\configurationstudio\\configurationstudio.exe\"",
      "    $shortcutPathConfig = \"$scoopAppsFolder\\ConfigurationStudio-7.7.20250228.lnk\"",
      "    $ShortcutConfig = $WScriptShell.CreateShortcut($shortcutPathConfig)",
      "    $ShortcutConfig.TargetPath = $exePathConfig",
      "    $ShortcutConfig.Save()",
      "    Write-Host \"Shortcut for ConfigurationStudio has been created.\"",
      "} else {",
      "    Write-Host \"Error: ConfigurationStudio.exe was not found.\"",
      "}"
    ]
  },
  "uninstaller": {
    "script": [
      "$installDir = \"C:\\Axway-7.7.20250228\"",
      "$uninstaller = \"$installDir\\uninstall.exe\"",
      "if (Test-Path $uninstaller) {",
      "    Start-Process $uninstaller -ArgumentList \"--mode unattended --unattendedmodeui none\" -Wait",
      "    Write-Host \"Uninstallation completed.\"",
      "} else {",
      "    Write-Host \"Error: Uninstaller not found.\"",
      "}",
      "$scoopAppsFolder = \"C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Scoop Apps\"",
      "Remove-Item \"$scoopAppsFolder\\PolicyStudio-7.7.20250228.lnk\" -ErrorAction SilentlyContinue",
      "Remove-Item \"$scoopAppsFolder\\ConfigurationStudio-7.7.20250228.lnk\" -ErrorAction SilentlyContinue",
      "Write-Host \"Shortcuts removed.\""
    ]
  },
  "checkver": {
    "github": "https://scoop-packages.itsmtaxud.priv/packages/policystudio/"
  },
  "autoupdate": {
    "architecture": {
      "32bit": {
        "url": "https://scoop-packages.itsmtaxud.priv/packages/policystudio/APIGateway_$version_Client-Tools-Install_win-x86-32_BN$version.exe"
      }
    }
  }
}
